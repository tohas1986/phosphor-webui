<div class="page">
  <h1 class="h1">Virtual Media</h1>
  <section class="section">
    <div class="section-header">
      <h2 class="h2">Serve image in a web browser</h2>
    </div>
    <div class="section-content">
      <div id="virtual_media-proxy" class="vm__upload ng-scope">
        <p ng-if="!proxyDevices.length">
            There are no Virtual Media proxy devices available.
        </p>
        <div ng-repeat="dev in proxyDevices track by $index" class="row column">
          <div id="vm_{{dev.name}}" class="column">
          <!-- name and error message -->
          <h3 class="inline column"><span>{{dev.name}}</span><span ng-if="dev.isActive"> (Active)</span></h3>
          <!-- Button -->
          <label for="vm_{{dev.name}}_file-upload" class="btn btn-primary"ng-disabled="dev.isActive">Browse...</label>
          <input class="inline" hidden id="vm_{{dev.name}}_file-upload" type="file" file="dev.file" ng-disabled="dev.isActive"/>
          <span ng-if="dev.file">{{dev.file.name}}</span>
          <span ng-if="!dev.file">No file chosen</span>
          <button id="vm_{{dev.name}}_start_stop" type="button" ng-disabled="!dev.file" class="btn btn-primary float-right" ng-click="dev.isActive? stopVM($index) : startVM($index)">
            <span ng-if="!dev.isActive">Start</span>
            <span ng-if="dev.isActive">Stop</span>
          </button>
         </div>
        </div>
      </div>
    </div>
  </section>
  <section class="section">
    <div class="section-header">
      <h2 class="h2">Load image from external server</h2>
    </div>
    <div class="section-content">
      <div id="virtual_media-legacy" class="vm__upload ng-scope">
        <p ng-if="legacyDevices.length < 1">
            There are no Virtual Media legacy devices available.
        </p>
        <div ng-repeat="dev in legacyDevices track by $index" class="row column">
          <div id="vm_{{dev.name}}" class="column">
            <!-- name and error message -->
            <h3 class="inline column"><span>{{dev.name}}</span><span ng-if="dev.isActive"> (Active)</span></h3>
            <button id="vm_{{dev.name}}_config" type="button" class="btn btn-primary" ng-click="legacyConfigModal($index)">
              <span>Configure connection</span>
            </button>
            <button id="vm_{{dev.name}}_start_stop" type="button" ng-disabled="!dev.configured" class="btn btn-primary float-right" ng-click="dev.isActive? stopLegacy($index) : startLegacy($index)">
              <span ng-if="!dev.isActive">Start</span>
              <span ng-if="dev.isActive">Stop</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
